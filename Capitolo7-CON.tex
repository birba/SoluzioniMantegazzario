\section{Continuità}

\ex{7.6} Osserviamo che una formulazione equivalente è:
$$ f\mbox{ surgettiva} \wedge \left( f(x_n)\mbox{ converge} \Rightarrow (x_n) \mbox{ converge} \right) \Rightarrow f \mbox{ continua} $$
Intanto mostriamo che $f$ è iniettiva. Se non lo fosse avrei $f(x)=f(x'):=f$ con $x\neq x'$, prendo la successione:
$$ x_{2n}=x\ \mbox{ e }\ x_{2n+1}=x'\ \ \Rightarrow\ f(x_n)\rightarrow f\ \  \wedge\ \ (x_n) \mbox{ non converge} $$
Assurdo, dunque $f$ è bigettiva, considero ora la sua inversa $g$ e riscrivo il problema come:
$$ g\mbox{ bigettiva} \wedge \left( (y_n)\mbox{ converge} \Rightarrow g(y_n) \mbox{ converge} \right) \Rightarrow f \mbox{ continua} $$
Posto ora che $y_n\rightarrow y_{\infty}$ e che $g(y_n)\rightarrow g_{\infty}$ considero la successione:
$$ z_{2n}=y_{\infty}\  \mbox{ e}\  z_{2n+1}=y_n\ \Rightarrow\  g(z_{2n+1})\rightarrow g_{\infty}\\ \mbox{ e}\  g(z_{2n})=g(y_{\infty}) $$
Per ipotesi di convergenza e per unicità del limite ho: $ g_{\infty}=g(y_{\infty})$. Ma questa è la continuità di $g$. Essendo $g$ continua e bigettiva è monotòna e dunque la sua inversa, cioè $f$, è continua.

\ex{7.17}Mostriamo che $f$ manda chiusi in chiusi (dunque $f^{-1}$ controporta chiusi in chiusi dunque è continua). Prendo $C$ chiuso in $X$, per compattezza di $X$ anche $C$ è compatto, dunque la sua immagine tramite $f$ è compatta (Weierstrass), ma, in spazi metrici, ogni compatto è chiuso. 

\ex{7.40}Controsempio cannonoso: Fissiamo una base di Hamel di $\RR$ come spazio vettoriale su $\QQ$. Ora ogni reale $x$ si scrive come combinazione lineare {\it finita}: $x=\sum_{i=0}^{n_x} \frac{p_i}{q_i}\, b_i$. Definisco:
$$ f:x\mapsto \frac{1}{\gcd(p_1,\ldots,p_{n_x})} $$ 
questa $f$ è effettivamente un controesempio.\\
Controesempio alternativo: sia $A=\{\pi,\pi^2,\ldots\}$ definisco $f$ costantemente $1$ su $A$ e nulla altrove. Fissato $\check{x}$ la sua progressione aritmetica casca al più una volta in $A$ (che si riesca anche a fare continua sulla base di questa?)...\\
Se $f$ è uniformemente continua invece il limite di $f$ è nullo. Prendo $L=\limsup f$ e so che frequentemente c'è qualcuno (sia $x_k$) sopra $L-\epsilon$. Prendo il $\delta$ dell' uniforme continuità e ho che $f([x_k-\delta,x_k+\delta])\ge L-2\epsilon$. Scelgo ora $\check{x}<2\delta$ e applico la prima ipotesi ottenendo un assurdo perchè capito negli intorni di tutti gli $x_k$ ed ho $\limsup_n n\check{x}\ge L-2\epsilon>0$ per l' arbitrarietà di $\epsilon$.
\ex{7.42} Negando formalmente la continuità in un punto otteniamo la seguente caratterizzazione dei punti di $D(f)$:
$$
x\in D(f)\ \Leftrightarrow\  \exists \epsilon(x)>0\  \forall \delta>0\  \exists x_\delta \mbox{ t.c. } \norm{x_\delta-x}<\delta\  \wedge\   \norm{f(x_\delta)-f(x)}\geq \epsilon(x)\ \ (\star)
$$
è chiaro che se un certo $\epsilon(x)$ verifica $(\star)$ allora la verificano anche quelli più piccoli; per non avere ambiguità scegliamo, per ogni $x$, il $\sup$ degli $\epsilon$ che verificano la condizione $(\star)$. In simboli: definiamo una funzione:
$$
\eta: D(f)\rightarrow (0,+\infty)
$$
$$
\eta: x\mapsto \sup\{\epsilon(x)\ \vert\ \epsilon(x) \mbox{ soddisfa } (\star) \}
$$
Ora definiamo, per ogni $k$ positivo, i seguenti insiemi:
$$
E_k:=\{x\in D(f)\ \vert\  \eta(x)\geq 1/k \}
$$
risulta chiaro che $D(f)=\bigcup_{k\in\NN^{*}} E_k$, vorremo che tali insiemi siano chiusi; in generale non lo sono, ma mostriamo che per ogni $k$ esiste un $n(k)$ tale che:
$$
\overline{E_k}\subseteq E_{n(k)}
$$
Questo è vero scegliendo, ad esempio, $n(k)>4k$, verifichiamolo.\\
Sia $\overline{x}$ di accumulazione per $E_k$. Supponiamo per assurdo che $\eta(\overline{x})<1/4k$ ciò significa che in un intervallino abbastanza piccolo intorno a $\overline{x}$ (chiamiamolo $J$) la funzione dista dal suo valore in $\overline{x}$ meno di $1/3k$ (convincersene: se non fosse così $\eta(\overline{x})\geq 1/3k$).\\
Sia ora $(x_j)\subseteq E_k$ successione convergente a $\overline{x}$; per ogni $j$ scelgo $y_j$ ponendo nella definizione $\delta=1/j$ dimodochè valga:
$$
\norm{x_j-y_j}<1/j\qquad \wedge \qquad \norm{f(x_j)-f(y_j)}\geq \eta(x_j)\geq \frac{1}{k}
$$
dalla prima è evidente che $y_j\rightarrow \overline{x}$ perciò, almeno definitivamente, $(x_j)$ ed $(y_j)$ stanno in $J$, dunque, per $j$ abbastanza grande vale:
$$
\frac{1}{k}>\frac{1}{3k}+\frac{1}{3k}\geq \norm{f(\overline{x})-f(x_j)}+\norm{f(y_j)-f(\overline{x})}\geq \norm{f(x_j)-f(y_j)}\geq \eta(x_j)\geq \frac{1}{k}
$$
che è assurdo. A questo punto abbiamo finito perchè unire gli $E_k$ equivale a unire gli $\overline{E_k}$:
$$
D(f)=\bigcup_{k\in\NN^{*}} E_k=\bigcup_{k\in\NN^{*}} \overline{E_k}
$$
\ex{7.43} Supponiamo che una tale funzione esista;  ricordando che i punti di discontinuità di una funzione sono una $F_\sigma$ avremmo che gli irrazionali si scrivono come unione numerabile di chiusi:
$$
\RR \setminus \QQ=\bigcup_{n\in\NN} C_n
$$
è evidente che questi $C_n$ non contengono razionali, dunque non hanno parte interna. Ma evidentemente anche i razionali si scrivono come unione numerabiole di chiusi a parte interna vuota, basta numerarli e scrivere:
$$
\QQ=\bigcup_{k\in\NN} \{q_k\}
$$
ma allora avremmo che:
$$\RR=\bigcup_{n\in\NN} C_n \cup \bigcup_{k\in\NN} \{q_k\}$$
che è assurdo per il lemma di Baire.
\ex{7.48} Utilizziamo le notazioni del problema \rec{7.39} e i risultati provati ai punti $(3)$ e $(4)$. Sia $A$ l' insieme dei punti di discontinuità di $f$. Osserviamo che per ogni $n$ la funzione $f\vert _{A_n}$ è ancora SCI e dunque i suoi sottolivelli, definiti per ogni reale $M$ come:
$$B_{(n,M)}:=\{x\in A_n: f(x)\leq M\}$$ 
sono dei chiusi (si vede velocemente utilizzando la caratterizzazione sequenziale di chiusura e la SCI). Osserviamo che in particolare: 
$$ A=\bigcup_{k\in \NN} A_k\cap B_{(k,k)}\ \mbox{ poichè }\ A_k\subseteq A_{k+1}\subseteq A\ \wedge\ B_{(k,k)}\subseteq B_{(k+1,k+1)} $$
infatti un punto di discontinuità ha necessariamente oscillazione non nulla e immagine finita. Abbiamo scritto così $A$ come unione numerabile di chiusi, se facciamo vedere che hanno tutti parte interna vuota abbiamo finito. Supponiamo che esista $n$ naturale e $I$ intervallo aperto tale che $I\subseteq A_n\cap B_{(n,n)}$. Mostriamo ora che riusciamo a far assumere ad $f$ ristretta ad $I$ valori arbitrariamente grossi. Prendo un generico $x_0\in I$ ricordando che per le funzioni SCI vale:
$$ f(x)=\lim_{r\rightarrow 0^+} \inf_{y\in B_{r}(x)} f(y) $$ 
ho che affinchè l' oscillazione sia $\geq 1/n$ deve esistere in ogni palla centrata in $x_0$ di centro $r_0$ un punto $x_1$ tale che:
$$ f(x_1)\geq f(x_0)+1/2n $$
costruisco così ricorsivamente una successione $(x_k)$, posso costruirla stando in $I$ semplicemente scegliento i raggi in maniera tale che $\sum_{i\in \NN} r_i<\epsilon$, ma chiaramente:
$$ f(x_N)\geq f(x_0)+\frac{N}{2n} $$
facendo tendere $N$ all' infinito ho che gli $(x_k)$ non possono stare in $B_{(n,n)}\supseteq I$. Assurdo.
\ex{7.63} Consideriamo $f_\epsilon(x):=f(x)+\epsilon x$ in modo che la monotonia locale sia stretta. Se supponessimo per assurdo che $f_\epsilon$ non sia monotona, avremmo che non è iniettiva (per continuità) e dunque ha un massimo locale in $(a,b)$, ma questo è assurdo perchè nessun punto interno può essere di massimo locale (ha alla sua destra punti in cui la funzione ha un valore strettamente maggiore). Dunque le $f_\epsilon$ sono monotone, passando al limite per $\epsilon\rightarrow 0$ tale proprietà si preserva.

